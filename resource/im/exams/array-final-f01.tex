%%COMMENT:3:8:Decompiling a C ``for'' loop:
\begin{problem}{8}

Consider the source code below, where {\tt M} and {\tt N} are
constants declared with \verb@#define@.

\begin{ccode}
\begin{alltt}
int array1[M][N];
int array2[N][M];

void copy(int i, int j)
\verb:{:
    array1[i][j] = array2[j][i];
\verb:}:
\end{alltt}
\end{ccode}

Suppose the above code generates the following assembly code:

\begin{scode}
\begin{alltt}
copy:{\em\scriptsize }
  pushl %ebp{\em\scriptsize }
  movl %esp,%ebp{\em\scriptsize }
  pushl %ebx{\em\scriptsize }
  movl 8(%ebp),%ecx{\em\scriptsize }
  movl 12(%ebp),%eax{\em\scriptsize }
  leal 0(,%eax,4),%ebx{\em\scriptsize }
  leal 0(,%ecx,8),%edx{\em\scriptsize }
  subl %ecx,%edx{\em\scriptsize }
  addl %ebx,%eax{\em\scriptsize }
  sall $2,%eax{\em\scriptsize }
  movl array2(%eax,%ecx,4),%eax{\em\scriptsize }
  movl %eax,array1(%ebx,%edx,4){\em\scriptsize }
  popl %ebx{\em\scriptsize }
  movl %ebp,%esp{\em\scriptsize }
  popl %ebp{\em\scriptsize }
  ret{\em\scriptsize }
\end{alltt}
\end{scode}


What are the values of {\tt M} and {\tt N}?       

\bigskip
\hspace{1cm}{\tt M} =

\bigskip
\hspace{1cm}{\tt N} =

\answer{
M=5
N=7
}

\end{problem}

